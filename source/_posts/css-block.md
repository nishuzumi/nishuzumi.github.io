---
title: CSS盒模型
date: 2020-11-17 20:05:38
tags:
- [CSS]
- [前端]
---
## 前言 🎤
在CSS中，最重要而且最万变不离其宗的就是CSS的盒模型，简单的来讲其实就是用一个一个的块进行对页面的布局，因此，了解盒模型的运作规则则是前端中的重中之重。

## Block和Inline
CSS中最广泛的两种盒子——块级盒子和内联盒子。
一个块级盒子有以下特点
- 元素一定会换行（无论宽度是否可以容下多个元素）
- 会尝试占用整个父元素的宽度，在一般情况下都会占满
- 双边距和边框会推动其他元素

而内联盒子基本相反
- 元素一定不会换行
- 垂直方向的边距不会产生任何效果
- 水平方向的边距一会把其他元素推开
- width 和 height 属性将不起作用
但是请注意这只代表`inline`的效果，不代表`inline-box`，在`inline-box`中宽度和高度是有效的。

### ⚠️小提示
在`display:inline`的情况下，常常会看到一种很奇怪的情况
{% iframe https://codepen.io/nishuzumi/embed/LYZvPMN?height=265&theme-id=dark&default-tab=css,result %}
别怀疑，你的知识没有任何问题，这只是格式化代码带来的副作用而已。
{% iframe https://codepen.io/nishuzumi/embed/KKMYKdY?height=265&theme-id=dark&default-tab=css,result %}
当你把你的换行符删除后，一切都显得那么合理。  
当然，你也可以用一些强修补手段，比如直接缩小margin，把font-size改为0等等。

### ⚠️小提示2
display的完整参数签名非常的长，并不是单单的一个参数。在默认情况下，修改`display:block`是将**内部**显示模式设为了`block`，而元素自身位置的控制是由`display-outside`控制，并且`display-outside`的可选值为`block|inline|run-in(实验性)`。  

## CSS盒模型
### 标准盒模型
盒模型分为四个部分  
- 内容（Content）宽高都设定都是这个区域，但是有可以修改都手段
- 内边距（Padding）用于设定距离边框的距离
- 边框（Border）顾名思义，就是边框
- 外边距（Margin）是外侧区域，用于调整和其他元素的距离
如图  
{% img /images/css-block-2020-11-18-11-20-29.png %}  

要注意的是，**宽度，高度默认设置的是Content的宽高**，而且一个元素实际宽度应该是将内容到边框的所有大小加起来（也就是除去外边距）。

### 替代（IE）盒模型
没错就是那个IE，早期的IE盒模型就是这种，而且在IE8之前，你都没有办法修改这个盒模型。
在替代盒模型下，元素的实际宽度和高度设定的是**除了外边距以外的全部内容总和的宽高**。与此同时，你可以使用`box-sizing:border-box`将标准盒模型切换成替代盒模型。当然你也可以使用`box-sizing:content`切换成标准盒模型（IE8之前无效）
{% img /images/css-block-2020-11-18-11-28-58.png %}

## Margin 外边距
Margin是一个不可见的外边距，一般情况下，设置真值会把其他元素推开（有时候是推自己），设置负值则会拉近（甚至可以重叠）

### 外边距重叠
在一般情况下，如果有两个元素的外边距同时存在，那么他们就会产生边距重叠的情况。在这种情况下，他们之间的边距将会由最大值来决定。**如果有一方为负数，那么他们的距离则为他们的外边距之和**，**如果两方皆为负数，那么覆盖大小由最小值来决定（绝对值的最大值）**

#### 形成和处理方式
外边距重叠的形成情况有三种，但是，设定了`float`和`position=absolute`的元素不会发生重叠，因为他们已经不进行重叠计算。

**情况一：同一层中的相邻元素**
同级两个元素在默认情况下，会发生外边距重叠。

**情况二：父元素和后代元素因为没有内容而产生重叠**
定义一下内容：
- Content中任何**行内内容**
- 边框
- 内边距
  
1. 当没有内容，而且并且没有BFC（块格式化上下文），浮动清除等来隔离父元素和后代元素的`margin-top`
2. 当没有内容，并且没有高度，最大高度，最小高度来隔离块元素的`margin-bottom`

重叠的部分最终会溢出到父元素之外。
{% iframe https://codepen.io/nishuzumi/embed/rNLbGzo?height=265&theme-id=dark&default-tab=css,result %}
**情况三：空的块元素**
当一个块元素自身的上边距和下边距紧紧的挨着的时候，自身的上下边距会发生重叠。

一般情况下可以通过插入BFC或者使用BFC把元素进行包裹，都可以解决。

## Border 边框
就是大家熟悉的边框，没什么特殊点。不过有个小知识。
{% img /images/css-block-2020-11-18-13-42-45.png %}  
边框的绘制方式如图，可以通过这种方式来画一些几何图形，比如三角形，梯形，圆形（radius），平行四边形（组合两个三角形），等等。

## Padding 内边距
内边距和外边距有所不同。内边距不允许有负数存在，最小为0.并且内边距默认为透明。  
内边距会将元素推离边框（而不是将边框推离元素）


## 内联(inline)
内联盒子下，会忽略宽高属性，并且在垂直方向上的任何边距不会产生位移，只有水平方向上才会产生。  
{% img /images/css-block-2020-11-18-13-51-15.png %}  

## 内联块（inline-block）
内联块杂糅了`inline`和`block`的属性，你可以认为他是一个去掉了**元素换行**的`block`。  
{% img /images/css-block-2020-11-18-13-52-59.png %}  

## 总结 👨‍🏫
CSS中的盒模型是CSS中最为重要的基础，与其相关的还有CSS的BFC，掌握好这两个内容会让你对CSS的理解如虎添翼。